# 2강 명세 기반 테스트

명세기반 테스트는 SRS와 같이 specification을 보고 어떤 동작을 해야하는지 파악하고, 이를 활용해 테스트를 하는 방법을 말함. 여기서는 7단계의 체계적인 방법을 제시하고 있음

### 연습문제

1.  다음 중 아래의 자바 메서드에 대해 명세 기반 테스트를 적용하고자 할때 틀린 문장은 무엇인가?
    1. 명세에는 입력 인수의 값에 대한 어떤 세부사항도 명시되어 있지 않으므로 경험을 사용하여 값을 분할해야 한다 → 맞는 말인듯함. 명세에는 key 값으로 null을 사용할 수 없다고만 나와있음. 키와 밸류의 타입이 어떻게 되는지에 대한 세부사항이 하나도 안나와있음. 근데 이러면 확인해야 하는 범위가 너무 커질거 같긴한데 암튼 키가 널일때 아닐때, 밸류가 널일때 아닐때 확인해주면 될듯함
    2. 범주 / 구획법은 각 범주에서 선택한 구획을 나중에 하나씩 조합하므로 테스트의 수가 빠르게 증가할 수 있다. 범주와 구획의 수가 적지 않기 때문에 put() 메서드에는 실용적이지 않다. → 책에는 오타가 난듯함. 구획의 수가 적지 않기때문에 범주 /구획법이 적절하지 않을 수 있다는 해석이 맞는 거 같음.
    3. 객체 지향 언어에서는 메서드의 입력 매개변수를 사용하여 구획을 찾을 뿐 아니라 객체의 내부 상태(클래스의 속성)도 고려해야 한다. 메서드의 동작에 영향을 줄 수 있기 때문이다. → 맞는 말임. 명세에도 적혀 있드시 키에 맵핑되는 값이 있을때 없을때 동작이 달라지기 때문에 그러한 state를 고려해줘야한다
    4. 주어진 정보로는 마지막 단계(조건 추가)에 소스 코드가 필요하기 때문에 범주/구획법을 수행할 수 없다. → 이게 무슨 소리일까? 원래 명세기반 방식은 블랙박스 테스팅이라서 소스 코드 안보는게 맞긴 할텐데?
2.  파일 내에서 어떤 패턴이 존재하는지 찾는 find 프로그램이 있다. 구문은 다음과 같다

    find <pattern> <file>

    테스터는 명세를 읽고 명세 기반 테스트를 수행한 후 다음과 같은 구획을 고안했다.

    1. 패턴 크기: 빈 문자열, 문자가 하나인 문자열, 문자가 여러개인 문자열, 파일에 있는 줄의 길이보다 긴 문자열
    2. 따옴표: 패턴에 따옴표가 있는 경우, 따옴표가 없는 경우, 따옴표가 잘못 설정된 경우
    3. 파일명: 정상 파일명인 경우, 주어진 파일명에 일치하는 파일이 없는 경우, 파일명이 누락된 경우
    4. 파일 내에 존재할 때: 패턴이 없는 경우, 딱 하나만 있는 경우, 하나보다 많은 경우
    5. 한 줄 내에 존재, 즉 파일이 한줄로 되어 있고, 그 줄에 패턴이 존재할때: 패턴이 하나인 경우, 하나보다 많은 경우

    구획을 모두 조합하면 그 수가 너무 많다. 이를 줄이려면 무엇을 해야하는가?

    → 앞 부분이 무효화되면 뒷 부분은 살펴볼 필요 없는 경우들을 제거해나간다. 예를 들어 파일명이 누락되거나 일치하는 파일이 없는 경우는 무조건 실패니까 다른 조합을 만들어 볼 필요가 없다. 또한 구획중에 서로 겹치는 내용이 있다면 이를 적절히 제거해주어야 한다. 내 생각에 e번 구획은 d번 구획에 완전히 포함되는 내용인 것 같은데 굳이 따로 분리할 필요가 없을 것 같다.

3.  어떤 가상의 국가에서는 우편번호를 항상 4자리 수와 2개의 문자로 구성한다. 예를 들면 2623CD와 같다.
    숫자는 [1000, 4000] 범위에 있다. 문자는 [C, M] 범위에 있다.
    프로그램은 두개의 입력으로 (네 개의 자릿수를 가진) 정수와 (두개의 문자를 가진) 문자열을 받아서, 유효한 우편번호일 경우 true, 아니면 false를 반환한다. 이 프로그램의 경계는 간단해 보인다 1. 1000 미만일때: 무효 2. [1000, 4000]: 유효 3. 4000 초과일때: 무효 4. [A, B] : 무효 5. [C, M]: 유효 6. [N, Z]: 무효
        테스터로서 여러분은 프로그램에 대한 가정을 기반으로 또 다른 코너 케이스나 경계 테스트 케이스를 찾을 수 있을까? 여러분이 세운 가정을 기반으로 무효한 경우에 대해 기술하고 그것이 프로그램을 어떻게 수행할지 설명해보자.
        → 문자열에 대해서는 [ ] 와 같은 표현을 써서 표현했다. 수의 경우에는 < > 로 비교하면 빠지는 경우가 없을 것 같다. 그리고 4자리 정수라고 했으니 소수 표현이 들어오는 경우도 없을 것 같긴하다. 내 생각에는 [C, M]에 속한 문자열과 같은 아스키 코드값을 가지는 숫자가 들어왔을때
        그냥 생각나는 것들은
        1. 만약 소문자로 입력이 들어오면 어떻게 하지?
        2. 공백이나 특수문자가 들어온다면?
        3. 문자를 [] 와 같은 범위로 체크한다면 CZ와 같이 한글자는 들어오는데 다른 글자로 들어오는건 어떻게 하지
        4. 정수말고 소수 들어오는 경우는 어떻게 하지 등등 이 있을 것 같다.
4.  FizBuzz 프로그램 설명 ~~
    초보 테스터는 다음처럼 FizBuzz 메서드에 대해 가능한 많은 테스트를 고안하려 할 것이다 1. t1 = 15 2. t2 = 30 3. t3 = 8 4. t4 = 6 5. t5 = 25
        어떤 테스트 케이스는 제거해도 좋은 테스트 스위트를 유지할 수 있다. 그 테스트 케이스는 무엇인가? 그 테스트를 제거하기로 결정하는 데 사용할 수 있는 개념은 무엇인가? → 보면 t1, t2가 같은 범주이다. 우리는 주어진 입력을 카테고리 별로 구분할 수 있다. 이때 같은 카테고리에 속한 값을 여러번 탐색하는 건 의미가 없을 수 있다.
5.  numberOfPoints ≤ 570 인 조건을 가진 게임이 있따. 이 조건에 대한 경계를 분석하자. 접점과 거점은 무엇인가? → 570까지는 딱 조건을 만족하고 571부터는 조건을 넘어간다. 570이 접점이고, 571이 거점이다.
    접점의 정의: 경계위에 있는 점.
    거점의 정의: 접점과 다른 구획에 있으면서 접점과 가장 가까운 점.
6.  등식 x == 10에 대해 경계분석을 수행하자. 접점과 거점은 무엇인가? → 10이 접점, 11, 9가 거점이 될 수 있다.
