# Effective Software Testing

### 1강 연습문제

1. 체계적인 테스트란 무엇이며 비체계적인 테스트와 어떻게 다른지 설명하시오.
   1. 핵심은 다른 누가 와도 항상 같은 테스트 스위트를 만들어 낼 수 있는 방식이면 체계적인 테스트이고, 그렇지 않고 특정인의 지식, 창의성 등등에 의존한다면 비체계적인 테스트라고 할 수 있음. 즉 testing은 art의 영역이 아니고, 체계적인 방법론을 가지고 접근해야하는 부분임
2. SNS 회사인 Books!사의 개발자들은 테스트를 열심히 수행하기 때문에 사용자들은 버그를 그다지 많이 보고하지 않는다. 하지만 사용자들은 그 소프트웨어가 약속했던 것을 제공하지 않는다고 말한다. 여기에 어떤 테스트 원칙을 적용해야 하는가?
   1. 아마 북스사는 단위 테스트(unit test)와 종합 테스트(Integration test)는 실행했지만 시스템단위의 테스트는 충분히 실행하지 않은 것으로 보인다. 시스템 단위의 테스트를 진행하여 사용자가 입력에 대한 적절한 응답을 받을 수 있는지 체크해야한다
3. 수잔은 꿈꾸던 회사에 취직했다. 그가 맡은 작업은 지난 2년간의 버그 보고서를 분석하는 일이다. 수잔은 50%가 넘는 버그가 해외 결제 모듈에서 발생했다는 사실을 알았다. 수잔은 매니저에게 해외 결제 모듈을 완전히 테스트하도록 테스트 케이스를 설계해서 모든 버그를 찾겠다고 했다. 이것이 왜 불가능한지 설명하는 원칙은 무엇인가?
   1. 살충제 역설 → 이 개념은 특정 테스트 기법을 사용해서 테스트를 진행할지라도 그걸로 잡을 수 없는 버그가 여전히 존재한다는 의미이다. 이 상황에 맞는 개념은 아니다
   2. 완벽한 테스트 → 이게 정답이다. 완벽한 테스트란 존재할 수가 없다.
   3. 조기 테스트 → 조기에 테스트하는 비용이 추후에 문제가 생겼을때 수정하는 비용보다 훨씬 적다는 개념이다
   4. 결합 클러스터링 → 위의 예시처럼 결함이 프로그램 전체에 골고루 퍼져있는게 아니라 특정 부분(위의 경우에는 해외 결제 모듈)에 집중되어 있다는 개념이다. 테스트의 우선순위를 정할때 활용할 수 있다.
4. 존은 단위 테스트(Unit test)의 신봉자다. 다음 테스트 원칙 중 존이 ‘단위 테스트면 충분’이라는 접근 방식에서 벗어날 수 있도록 설득할 수 없는 원칙은 무엇인가?
   1. 살충제 역설 → 가능. 특정 테스트 기법으로 잡을 수 없는게 있다는 버그가 존재한다는 개념이다
   2. 테스트는 맥락에 달려 있다 → 역시 마찬가지. 단위 단위로는 잘 작동할지 몰라도 여러 구성요소가 함께 작동할때 Integration test, system test 등에서는 잘 작동하지 않을 수 있다.
   3. 에러 부재의 오류 → 에러 부재의 오류란 <검증 verification에만 몰두하고, 검사 validation에는 신경을 많이 쓰지 않을 때 발생할 수 있는 문제, 즉 버그는 많지 않지만 사용자가 원하는 바를 제공하지 않는 상황>을 나타낸다. 유닛 테스트는 잘 통과하는 코드지만 사용자에게는 아무런 쓸모가 없는 코드일 수도 있다.
   4. 조기 테스트 → 이게 정답이다. 지금 상황에 맞는 의미는 아니다.
5. 샐리는 어느 개발회사의 컨설팅을 하기로 했다. 개발팀은 단위 테스트의 팬이다. 단위 테스트 코드 커버리지는 매우 높지만(branch coverage가 95%) 사용자들은 여전히 상당한 수의 버그를 보고하고 있다. 샐리는 이와 관련된 테스트 원칙 중 하나를 설명하고자 한다. 다음중 무엇을 설명해야 할까?
   1. 살충제 역설 → 4개중에서 가장 적절하다. 즉 structural coverage로는 잡아낼 수 없는 버그가 여전히 코드에 존재한다는 것을 설명해주어야 한다.
   2. 완벽한 테스트
   3. 조기 테스트 원칙
   4. 결함 클러스터링
6. 다음과 같은 요구사항이 있다.

   > 온라인 상점은 하루에 한 번 일괄 작업을 실행해서 결제된 모든 주문을 배송한다.
   > 또 해외 고객의 주문인지 여부에 따라 배송 날짜를 정한다. 주문 내역은 외부 데이터베이스에서 가져온다.
   > 결제된 주문은 외부 웹 서비스로 전송된다.

   테스터로서 여러분은 적용할 테스트 수준(단위, 통합 또는 시스템 테스트)을 결정해야 한다. 다음 중 올바른 설명은 무엇인가?

   1. 통합 테스트는 단위 테스트보다 (자동화 측면에서) 더 복잡하지만 웹 서비스나 데이터베이스와의 통신에서 버그를 찾는데 더 유용하다 → 맞는 말이다. 외부 서비스와의 통신은 단위 테스트만으로는 확인할 수 없다.
   2. 단위 테스트는 (모의 객체 stub등 을 사용하여) 쉽게 작성할 수 있고 통합 테스트만큼 소스 코드를 수행한다는 점을 고려할 때, 단위 테스트는 어떠한 상황에서든 최선의 선택이다. → 아니라는 것을 우리는 잘 알고 있다.
   3. 이 코드에서 버그를 찾는 가장 효율적인 방법은 시스템 테스트다. 테스터는 전체 시스템을 실행하고 일괄 작업을 수행해야 한다. 이 코드를 쉽게 모의할 수 있다는 점을 감안하면 시스템 테스트 또한 비용이 저렴할 수 있다. → 시스템 테스트가 가장 효율적인 방법일수도 있다. 하지만 이는 쉽게 자동화해서 테스팅하기 어려운 방법이다. 또한 비용도 많이 든다
   4. 모든 수준의 테스트를 이 문제에 사용할 수 있지만, 한 수준을 선택해서 가능한 모든 경우와 코너 케이스를 살펴보면 더 많은 버그를 찾을 가능성이 높다 → 계속해서 “살충제 역설”을 다루며 특정 수준의 방법으로만 찾아낼 수 있는 버그에는 한계가 있다는 것을 배웠다.

7. 급여 처리를 위한 애플리케이션을 만들었다. 이 애플리케이션은 자바 기반 웹 기술을 사용하고, PostgreSQL에 데이터를 저장한다. 모든 통신은 자바 클래스에서 일어나며, (복잡한) SQL쿼리를 데이터 베이스에 보낸다.
   다음 중 SQL 쿼리에서 일어나는 버그를 탐지하는데 적합하지 않은 방법은 무엇인가? 1. 단위 테스트 → 데이터 통신을 위한 자바 클래스 - 데이터 베이스와의 상호작용 등 여러가지 측면을 고려해야하기 때문에 단위 테스트만으로는 충분하지 않다. 2. 통합 테스트 3. 시스템 테스트 4. 부하 테스트
8. 테스트 수준을 선택하는 데에는 트레이드 오프가 필요하다. 각 테스트 수준에는 장단점이 있기 때문이다. 다음 중 시스템 수준에서의 테스트가 가지는 주요한 장점은 무엇인가?
   1. 시스템과의 상호작용이 현실에 훨씬 가깝다 → 아주 맞는말이다.
   2. 지속저인 통합 환경에서 시스템 테스트는 개발자에게 실질적인 피드백을 준다 → 피드백을 주기는 하는데 단위 테스트에서 주는게 더 실질적인 방식이 아닌가 생각한다. 이건 개발자가 하나씩 추적해가면서 찾아야한다.
   3. 시스템 테스트는 결코 안정적이지 않기 때문에 그것들은 개발자들에게 더 안정적인 피드백을 준다. → 무슨 소리인지 모르겠다
   4. 시스템 테스트는 제품 소유자가 작성하기 때문에 현실에 더 가깝다 → 옳지 않다
9. 테스트 피라미드에서 시스템 테스트의 수가 단위 테스트보다 적은 주된 이유는 무엇인가?
   1. 단위 테스트는 시스템 테스트만큼 우수하기 때문에 → 틀린 말은 아닌데 주된 이유는 아니다
   2. 시스템 테스트는 느린 경향이 있고, 결정론적(같은 입력에 대해 항상 같은 결과)으로 만들기 어렵기 때문에 → 이게 맞다
   3. 시스템 테스트를 위한 좋은 도구가 없기 때문에 → 이건 아니다
   4. 시스템 테스트는 개발자에게 품질에 대한 충분한 피드백을 제공하지 않기 때문에 → 이것도 옳지 않은 말이다
